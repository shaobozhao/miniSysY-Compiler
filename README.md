# Lab 5 实验报告

## 一、个人信息

- 姓名：赵少泊
- 学号：18377239

## 二、工作介绍

### Part 8 作用域与块

&emsp;&emsp;Part 8内容的实现是在先前的各次实验的基础上完成的，同时对原先的代码进行了一定的优化与针对性的调整。本次实验主要的工作均是在语法分析程序`grammar.cpp`中完成的。

&emsp;&emsp;由于之前在Lab 3中已经基本实现了作用域的功能，故本部分中只需要进行一些小的修改。增加一个整型全局变量`level`表示当前级别，并在`element`结构体内增加一个对应的属性`level`；在进入一个`Block`后对level进行加1操作，并将`elements`复制为`sub_elements`传入下一层的`Block`中；在`Block`结束后释放`sub_elements`，将`level`减1。

### Part 9 全局变量

&emsp;&emsp;全局变量的`level`值为0，其功能实现的函数在前面几部分基本都已经实现了，故仅需做出少量的增改即可完成此部分。值得注意的是，全局变量的声明表达式为全局表达式，即调用的`Exp()`的格式应为`Exp(elements, true)`。

## 三、思考题

&emsp;&emsp;本次实验无思考题。

## 四、复用与借鉴

&emsp;&emsp;在完成本次实验的过程中，复用或借鉴参考代码或其他实现的情况并没有出现。
